function Youtube(){return{restrict:"E",replace:!0,template:'<iframe width="420" height="315" src=source frameborder="0" allowfullscreen></iframe>',scope:{source:"="}}}function VideoController(e,o){var t=this;t.search=null,t.videoId=null,t.request=function(){console.log("self.video: ",t.search),e.get(o,{params:{key:"AIzaSyAcX3tsJ1PfEDr2uRO8zkBhPoF2q2vnneA",video:"video",maxResults:"1",part:"id,snippet",fields:"items/id,items/snippet/title,items/snippet/description,items/snippet/thumbnails/default,items/snippet/channelTitle",q:t.search}}).success(function(e){console.log(e),t.videoId="https://www.youtube.com/embed/"+e.items[0].id.videoId,console.log(t.videoId)}).error(function(e){console.log(e)})}}angular.module("drift",[]).constant("YT","https://www.googleapis.com/youtube/v3/search"),angular.module("drift").directive("youtube",Youtube),angular.module("drift").controller("VideoController",VideoController),VideoController.$inject=["$http","YT"];